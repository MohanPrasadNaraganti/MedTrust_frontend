{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){var _useState=useState({name:'',email:'',password:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var onChangeInput=function onChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value)));};var registerSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();// console.log(user,\"register\")\n_context.prev=1;_context.next=4;return axios.post('http://localhost:3001/user/register',_objectSpread({},user));case 4://localStorage.setItem('firstLogin', true)\nalert(\"Registered successfully , please login to continue\");window.location.href=\"/\";_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);alert(_context.t0.response.data.msg);case 11:case\"end\":return _context.stop();}},_callee,null,[[1,8]]);}));return function registerSubmit(_x){return _ref.apply(this,arguments);};}();useEffect(function(){localStorage.removeItem('myData');});return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"login-form\",onSubmit:registerSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",required:true,placeholder:\"Name\",value:user.name,onChange:onChangeInput}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",required:true,placeholder:\"Email\",value:user.email,onChange:onChangeInput}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",required:true,autoComplete:\"on\",placeholder:\"Password\",value:user.password,onChange:onChangeInput}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Already Registered , Please Login to Continue\"}),/*#__PURE__*/_jsxs(Link,{to:\"/login\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"}),\" \"]})]})]})});}export default Register;","map":{"version":3,"names":["React","useEffect","useState","Link","axios","jsx","_jsx","jsxs","_jsxs","Register","_useState","name","email","password","_useState2","_slicedToArray","user","setUser","onChangeInput","e","_e$target","target","value","_objectSpread","_defineProperty","registerSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","preventDefault","post","alert","window","location","href","t0","response","data","msg","stop","_x","apply","arguments","localStorage","removeItem","className","children","onSubmit","type","required","placeholder","onChange","autoComplete","to"],"sources":["/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/src/components/Register.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport axios from 'axios'\r\n\r\nfunction Register() {\r\n    const [user, setUser] = useState({\r\n        name:'', email:'', password: ''\r\n    })\r\n\r\n    const onChangeInput = e =>{\r\n        const {name, value} = e.target;\r\n        setUser({...user, [name]:value})\r\n    }\r\n\r\n    const registerSubmit = async e =>{\r\n        e.preventDefault()\r\n        // console.log(user,\"register\")\r\n        try {\r\n            await axios.post('http://localhost:3001/user/register', {...user})\r\n\r\n            //localStorage.setItem('firstLogin', true)\r\n\r\n             alert(\"Registered successfully , please login to continue\")\r\n            window.location.href = \"/\";\r\n        } catch (err) {\r\n            alert(err.response.data.msg)\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        localStorage.removeItem('myData')\r\n    })\r\n    return (\r\n        <div className=\"login-page\">\r\n            <form className=\"login-form\" onSubmit={registerSubmit}>\r\n                <h2>Register</h2>\r\n                <input type=\"text\" name=\"name\" required\r\n                placeholder=\"Name\" value={user.name} onChange={onChangeInput} />\r\n\r\n                <input type=\"email\" name=\"email\" required\r\n                placeholder=\"Email\" value={user.email} onChange={onChangeInput} />\r\n\r\n                <input type=\"password\" name=\"password\" required autoComplete=\"on\"\r\n                placeholder=\"Password\" value={user.password} onChange={onChangeInput} />\r\n\r\n                <div className=\"row\">\r\n                    <button type=\"submit\">Register</button>\r\n                    <p>Already Registered , Please Login to Continue</p>\r\n                    <Link to=\"/login\" ><button type=\"submit\" >Login</button> </Link>\r\n                    \r\n                </div>\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}