{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import'./CreateProduct.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialState={title:'',price:0,description:'',content:'',category:'',imageURL:''};function CreateProduct(){var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),productdata=_useState2[0],setProductData=_useState2[1];// const category = [\n//     { _id: 1, name: \"medicine\" },\n//     { _id: 2, name: \"health\" },\n//     { _id: 3, name: \"drug\" },\n//     { _id: 4, name: \"wellness\" },\n// ]\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),categories=_useState4[0],setCategories=_useState4[1];var handleChangeInput=function handleChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setProductData(_objectSpread(_objectSpread({},productdata),{},_defineProperty({},name,value)));};useEffect(function(){var fetchCategories=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('http://localhost:3001/api/category');case 3:data=_context.sent;setCategories(data.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);alert(_context.t0.response.data.msg);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchCategories(){return _ref.apply(this,arguments);};}();fetchCategories();console.log(categories,\"create\");},[]);var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();// console.log(productdata, \"creaProd\")\n_context2.prev=1;_context2.next=4;return axios.post('http://localhost:3001/api/products',_objectSpread({},productdata));case 4:alert(\"product created successfully!!\");setProductData(initialState);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);alert(_context2.t0);case 11:case\"end\":return _context2.stop();}},_callee2,null,[[1,8]]);}));return function handleSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"create_product\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",id:\"title\",required:true,value:productdata.title,onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",id:\"price\",required:true,value:productdata.price,onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",id:\"description\",required:true,value:productdata.description,rows:\"5\",onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",children:\"Content\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"content\",id:\"content\",required:true,value:productdata.content,rows:\"7\",onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"imageURL\",children:\"ImageURL\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"imageURL\",id:\"imageURL\",required:true,value:productdata.imageURL,onChange:handleChangeInput})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"categories\",children:\"Categories: \"}),/*#__PURE__*/_jsxs(\"select\",{name:\"category\",value:productdata.category,onChange:handleChangeInput,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Please select a category\"}),categories===null||categories===void 0?void 0:categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.name,children:category.name},category._id);})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create\"})]})});}export default CreateProduct;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","initialState","title","price","description","content","category","imageURL","CreateProduct","_useState","_useState2","_slicedToArray","productdata","setProductData","_useState3","_useState4","categories","setCategories","handleChangeInput","e","_e$target","target","name","value","_objectSpread","_defineProperty","fetchCategories","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","get","sent","t0","alert","response","msg","stop","apply","arguments","console","log","handleSubmit","_ref2","_callee2","_callee2$","_context2","preventDefault","post","_x","className","children","onSubmit","htmlFor","type","id","required","onChange","rows","map","_id"],"sources":["/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/src/CreateProducts/CreateProduct.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport './CreateProduct.css'\r\n\r\n\r\nconst initialState = {\r\n\r\n    title: '',\r\n    price: 0,\r\n    description: '',\r\n    content: '',\r\n    category: '',\r\n    imageURL: '',\r\n\r\n}\r\n\r\nfunction CreateProduct() {\r\n\r\n    const [productdata, setProductData] = useState(initialState)\r\n    // const category = [\r\n    //     { _id: 1, name: \"medicine\" },\r\n    //     { _id: 2, name: \"health\" },\r\n    //     { _id: 3, name: \"drug\" },\r\n    //     { _id: 4, name: \"wellness\" },\r\n    // ]\r\n\r\n    const [categories , setCategories] = useState([])\r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target\r\n        setProductData({ ...productdata, [name]: value })\r\n    }\r\n\r\n    useEffect(() => {\r\n      const fetchCategories = async () => {\r\n        try {\r\n          const data = await axios.get('http://localhost:3001/api/category')\r\n          setCategories(data.data)\r\n  \r\n        } catch (err) {\r\n          alert(err.response.data.msg)\r\n        }\r\n\r\n      }\r\n\r\n      fetchCategories();\r\n      console.log(categories,\"create\")\r\n  \r\n    }, []);\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault()\r\n        // console.log(productdata, \"creaProd\")\r\n        try {\r\n            // console.log(\"axios token---\",token)\r\n            await axios.post('http://localhost:3001/api/products', { ...productdata })\r\n            alert(\"product created successfully!!\")\r\n            setProductData(initialState)\r\n        } catch (error) {\r\n            alert(error)\r\n        }\r\n\r\n    }\r\n    return (\r\n        <div className=\"create_product\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"row\">\r\n            <label htmlFor=\"title\">Title</label>\r\n            <input type=\"text\" name=\"title\" id=\"title\" required value={productdata.title} onChange={handleChangeInput} />\r\n          </div>\r\n      \r\n          <div className=\"row\">\r\n            <label htmlFor=\"price\">Price</label>\r\n            <input type=\"number\" name=\"price\" id=\"price\" required value={productdata.price} onChange={handleChangeInput} />\r\n          </div>\r\n      \r\n          <div className=\"row\">\r\n            <label htmlFor=\"description\">Description</label>\r\n            <textarea type=\"text\" name=\"description\" id=\"description\" required value={productdata.description} rows=\"5\" onChange={handleChangeInput} />\r\n          </div>\r\n      \r\n          <div className=\"row\">\r\n            <label htmlFor=\"content\">Content</label>\r\n            <textarea type=\"text\" name=\"content\" id=\"content\" required value={productdata.content} rows=\"7\" onChange={handleChangeInput} />\r\n          </div>\r\n      \r\n          <div className=\"row\">\r\n            <label htmlFor=\"imageURL\">ImageURL</label>\r\n            <textarea type=\"text\" name=\"imageURL\" id=\"imageURL\" required value={productdata.imageURL} onChange={handleChangeInput} />\r\n          </div>\r\n      \r\n          <div className=\"row\">\r\n            <label htmlFor=\"categories\">Categories: </label>\r\n            <select name=\"category\" value={productdata.category} onChange={handleChangeInput}>\r\n              <option value=\"\">Please select a category</option>\r\n               {categories?.map(category => (\r\n                <option value={category.name} key={category._id}>\r\n                  {category.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n      \r\n          <button type=\"submit\">Create</button>\r\n        </form>\r\n      </div>\r\n      \r\n    )\r\n}\r\n\r\nexport default CreateProduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}