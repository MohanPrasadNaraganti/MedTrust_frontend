{"ast":null,"code":"var _jsxFileName = \"/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/src/ProductsPage/ViewProduct.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useState, useEffect } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport './ViewProduct.css';\nimport Search from '../search/Search';\nimport { useDispatch, useSelector } from 'react-redux';\nimport cartReducer from '../reducers/cartReducer';\nimport { cartAddAction } from '../actions/cartAction';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ViewProduct() {\n  _s();\n  let {\n    id\n  } = useParams();\n  const counter = true;\n  const cartdata = useSelector(state => state.cart.cart);\n  // console.log(cartdata,\"cartdata\")\n  let [productsdata, setProductsData] = useState({});\n  let [productsArray, setProductsArray] = useState([]);\n  const [productdetails, setProductDetails] = useState({});\n  const [token, setToken] = useState(false);\n  const [data, setData] = useState({});\n  const firstLogin = localStorage.getItem('myData');\n  const dispatch = useDispatch();\n  const [cartItems, setCartItems] = useState(cartdata);\n  // console.log(productdetails, \"view\")\n\n  useEffect(() => {\n    const fetchProduct = async () => {\n      try {\n        var _data$data;\n        const data = await axios.get(`http://localhost:3001/api/products/${id}`);\n        setProductDetails((_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.product);\n      } catch (err) {\n        alert(err.response.data.msg);\n      }\n    };\n    fetchProduct();\n  }, [cartdata]);\n  const onAdd = product => {\n    if (firstLogin) {\n      const exist = cartItems.find(x => x._id === product._id);\n      if (exist) {\n        const updatedCartItems = cartItems.map(x => x._id === product._id ? {\n          ...exist,\n          qty: exist.qty + 1\n        } : x);\n        setCartItems(updatedCartItems);\n        dispatch(cartAddAction(updatedCartItems));\n      } else {\n        const updatedCartItems = [...cartItems, {\n          ...product,\n          qty: 1\n        }];\n        setCartItems(updatedCartItems);\n        dispatch(cartAddAction(updatedCartItems));\n      }\n    } else {\n      alert(\"Please Login\");\n    }\n  };\n  const onRemove = product => {\n    const exist = cartItems.find(x => x._id === product._id);\n    if (exist.qty === 1) {\n      setCartItems(cartItems.filter(x => x._id !== product._id));\n    } else {\n      setCartItems(cartItems.map(x => x._id === product._id ? {\n        ...exist,\n        qty: exist.qty - 1\n      } : x));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"custom-product-card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"custom-card text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-card-top\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: productdetails.imageURL,\n          style: {\n            marginTop: \"20px\",\n            width: \"350px\",\n            height: \"350px\"\n          },\n          alt: \"Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"custom-card-body text-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-product-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"custom-card-title\",\n            children: productdetails.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"custom-card-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Content:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 45\n            }, this), \" \", productdetails.content]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"custom-card-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Price:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 45\n            }, this), \" \\u20B9\", productdetails.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"custom-card-text\",\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Description:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 45\n            }, this), \" \", productdetails.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"custom-button-section\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"custom-button\",\n            onClick: () => onAdd(productdetails),\n            children: [\"Add to Cart \", /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-shopping-cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(ViewProduct, \"wnttks3iP737BIhngIZfNuezKIA=\", false, function () {\n  return [useParams, useSelector, useDispatch];\n});\n_c = ViewProduct;\nexport default ViewProduct;\nvar _c;\n$RefreshReg$(_c, \"ViewProduct\");","map":{"version":3,"names":["React","useContext","useState","useEffect","Link","useParams","axios","Search","useDispatch","useSelector","cartReducer","cartAddAction","jsxDEV","_jsxDEV","ViewProduct","_s","id","counter","cartdata","state","cart","productsdata","setProductsData","productsArray","setProductsArray","productdetails","setProductDetails","token","setToken","data","setData","firstLogin","localStorage","getItem","dispatch","cartItems","setCartItems","fetchProduct","_data$data","get","product","err","alert","response","msg","onAdd","exist","find","x","_id","updatedCartItems","map","qty","onRemove","filter","className","children","src","imageURL","style","marginTop","width","height","alt","fileName","_jsxFileName","lineNumber","columnNumber","title","content","price","description","onClick","_c","$RefreshReg$"],"sources":["/Users/mohanprasadnaraganti/Desktop/Fall-23/AdvWebProgramming/MedTrust/frontend/src/ProductsPage/ViewProduct.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport './ViewProduct.css'\r\nimport Search from '../search/Search'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport cartReducer from '../reducers/cartReducer'\r\nimport { cartAddAction } from '../actions/cartAction'\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction ViewProduct() {\r\n\r\n  let { id } = useParams()\r\n  const counter = true;\r\n  const cartdata = useSelector(state => state.cart.cart);\r\n  // console.log(cartdata,\"cartdata\")\r\n  let [productsdata, setProductsData] = useState({})\r\n  let [productsArray, setProductsArray] = useState([])\r\n  const [productdetails, setProductDetails] = useState({})\r\n  const [token, setToken] = useState(false)\r\n  const [data, setData] = useState({})\r\n\r\n  const firstLogin = localStorage.getItem('myData')\r\n  const dispatch = useDispatch()\r\n\r\n  \r\n  const [cartItems, setCartItems] = useState(cartdata)\r\n  // console.log(productdetails, \"view\")\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const data = await axios.get(`http://localhost:3001/api/products/${id}`)\r\n\r\n        setProductDetails(data.data?.product)\r\n\r\n      } catch (err) {\r\n        alert(err.response.data.msg)\r\n      }\r\n    }\r\n    fetchProduct();\r\n\r\n  }, [cartdata])\r\n\r\n\r\n\r\n  const onAdd = (product) => {\r\n    if (firstLogin) {\r\n      const exist = cartItems.find((x) => x._id === product._id);\r\n\r\n      if (exist) {\r\n        const updatedCartItems = cartItems.map((x) =>\r\n          x._id === product._id ? { ...exist, qty: exist.qty + 1 } : x\r\n        );\r\n        setCartItems(updatedCartItems);\r\n        dispatch(cartAddAction(updatedCartItems));\r\n      } else {\r\n        const updatedCartItems = [...cartItems, { ...product, qty: 1 }];\r\n        setCartItems(updatedCartItems);\r\n        dispatch(cartAddAction(updatedCartItems));\r\n      }\r\n    }\r\n    else{\r\n      alert(\"Please Login\")\r\n    }\r\n\r\n  };\r\n  const onRemove = (product) => {\r\n    const exist = cartItems.find((x) => x._id === product._id);\r\n    if (exist.qty === 1) {\r\n      setCartItems(cartItems.filter((x) => x._id !== product._id));\r\n    } else {\r\n      setCartItems(\r\n        cartItems.map((x) =>\r\n          x._id === product._id ? { ...exist, qty: exist.qty - 1 } : x\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"custom-product-card\">\r\n      <div className=\"custom-card text-center\">\r\n        <div className=\"custom-card-top\">\r\n          <img src={productdetails.imageURL} style={{ marginTop: \"20px\", width: \"350px\", height: \"350px\" }} alt=\"Product\" />\r\n        </div>\r\n        <div className=\"custom-card-body text-dark\">\r\n          <div className=\"custom-product-details\">\r\n            <h6 className=\"custom-card-title\">{productdetails.title}</h6>\r\n            <p className=\"custom-card-text\"><b>Content:</b> {productdetails.content}</p>\r\n            <p className=\"custom-card-text\"><b>Price:</b> â‚¹{productdetails.price}</p>\r\n            <p className=\"custom-card-text\"><b>Description:</b> {productdetails.description}</p>\r\n          </div>\r\n          <div className=\"custom-button-section\">\r\n            <button className=\"custom-button\" onClick={() => onAdd(productdetails)}>\r\n              Add to Cart <i className=\"fas fa-shopping-cart\"></i>\r\n            </button>\r\n            {/* <button style={{ marginLeft: \"20px\" }} className=\"custom-button\">\r\n            <Link to={`/viewproduct/${productdetails._id}`}>View</Link>\r\n          </button> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n  )\r\n}\r\n\r\nexport default ViewProduct\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}